!function(){"use strict";function e(e){function n(e){if(console.log("--- PostOffice:init ---"),!e)throw new Error("No config object was provided to initialize the PostOffice.");e.name&&(f=e.name),e.currentWindow&&(a=e.currentWindow),e.recipientWindow&&(d=e.recipientWindow),e.recipientDomain&&(g=e.recipientDomain),console.log("_name: "+f),console.log("_recipientDomain: "+g),console.log("_recipientWindow: ",d),console.log("_currentWindow: ",a),o()}function o(){if(!a)throw new Error(s("_currentWindow"));if(!d)throw new Error(s("_recipientWindow"));if(!g)throw new Error(s("_recipientDomain"));a.addEventListener("message",l)}function i(){a.removeEventListener("message",l)}function r(e){if(console.log("--- PostOffice:send ---"),console.log("message: ",e),console.log("_recipientDomain: ",g),console.log("_recipientWindow: ",d),!d)throw new Error("Error at PostOffice:send. The recipient window is potentially undefined.");d.postMessage(e,g)}function t(){return f}function c(){return u.promise}function s(e){var n="The "+e+" parameter is not defined";return n.concat(""!==f?" for the PostOffice named "+f+".":"."),n}function l(e){console.log("--- PostOffice:onMessageReceived ---"),console.log("_recipientDomain: "+g),console.log("event.origin: "+e.origin),console.log("event.origin ?= _recipientDomain: "+(e.origin===g)),e.origin===g&&(console.log("event.data: "+e.data),u.resolve())}var f="",a=null,d=null,g="",u=e.defer(),w={};return w.init=n,w.disable=i,w.enable=o,w.getName=t,w.getPromise=c,w.send=r,w}angular.module("PostOffice",[]).factory("postOffice",e)}();