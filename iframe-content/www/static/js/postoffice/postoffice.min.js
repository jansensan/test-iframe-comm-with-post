!function(){"use strict";function n(){return{MESSAGE_SENT:"PostOffice:MESSAGE_SENT",RECIPIENT_CONFIRMATION_CONFIRMED:"PostOffice:RECIPIENT_CONFIRMATION_CONFIRMED",MESSAGE_RECEIVED:"PostOffice:MESSAGE_RECEIVED"}}function e(n,e){function i(n){if(!n)throw new Error("No config object was provided to initialize the PostOffice.");n.name&&(u=n.name),n.currentWindow&&(d=n.currentWindow),n.recipientWindow&&(w=n.recipientWindow),n.recipientDomain&&(O=n.recipientDomain),t()}function t(){if(!d)throw new Error(a("_currentWindow"));if(!w)throw new Error(a("_recipientWindow"));if(!O)throw new Error(a("_recipientDomain"));d.addEventListener("message",s)}function o(){d.removeEventListener("message",s)}function r(n){if(!w)throw new Error("Error at PostOffice:send. The recipient window is potentially undefined.");f(),w.postMessage(n,O)}function f(){}function c(i){n.$broadcast(e.MESSAGE_RECEIVED,{message:i})}function E(){return u}function a(n){var e="The "+n+" parameter is not defined";return e.concat(""!==u?" for the PostOffice named "+u+".":"."),e}function s(n){n.origin===O&&c(n.data)}var u="",d=null,w=null,O="",m={};return m.init=i,m.disable=o,m.enable=t,m.send=r,m.getName=E,m}angular.module("PostOffice",[]).constant("PostOfficeEvents",n()).factory("postOffice",e)}();