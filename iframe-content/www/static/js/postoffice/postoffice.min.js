!function(){"use strict";function n(){function n(n){f=n}function e(n){t=n}function o(n){r=n}function i(){return{name:f,window:t,domain:r}}var t=null,r="",f="";return{setName:n,setRecipientWindow:e,setRecipientDomain:o,$get:i}}function e(n,e){function o(){i()}function i(){u.addEventListener("message",c)}function t(){u.removeEventListener("message",c)}function r(n){if(console.log("--- PostOffice:send ---"),console.log("message: ",n),console.log("_domain: ",d),console.log("_window: ",u),!u)throw new Error('Error at PostOffice:send. The variable "window" is potentially undefined.');u.postMessage(n,d)}function f(){return l}function s(){return m.promise}function a(n){var e="The "+n+" parameter is not defined";return e.concat(""!==l?" for the PostOffice named "+l+".":"."),e}function c(n){n.origin===d&&m.resolve()}var u=e.window,d=e.domain,l=e.name,m=n.defer();if(!u)throw new Error(a("window"));if(!d)throw new Error(a("domain"));var w={};return w.enable=i,w.disable=t,w.getName=f,w.getPromise=s,w.send=r,o(),w}angular.module("PostOffice",[]).provider("postOfficeConfig",n).factory("postOffice",e)}();