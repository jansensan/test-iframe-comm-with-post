!function(){"use strict";function n(){function n(n){s=n}function e(n){r=n}function o(n){c=n}function i(n){f=n}function t(){return{name:s,currentWindow:r,recipientWindow:c,domain:f}}var r=null,c=null,f="",s="";return{setName:n,setCurrentWindow:e,setRecipientWindow:o,setRecipientDomain:i,$get:t}}function e(n,e){function o(){i()}function i(){a.addEventListener("message",u)}function t(){a.removeEventListener("message",u)}function r(n){if(console.log("--- PostOffice:send ---"),console.log("message: ",n),console.log("_domain: ",l),console.log("_recipientWindow: ",d),!d)throw new Error("Error at PostOffice:send. The recipient window is potentially undefined.");d.postMessage(n,l)}function c(){return w}function f(){return m.promise}function s(n){var e="The "+n+" parameter is not defined";return e.concat(""!==w?" for the PostOffice named "+w+".":"."),e}function u(n){n.origin===l&&m.resolve()}var a=e.currentWindow,d=e.recipientWindow,l=e.domain,w=e.name,m=n.defer();if(!a)throw new Error(s("currentWindow"));if(!d)throw new Error(s("recipientWindow"));if(!l)throw new Error(s("domain"));var g={};return g.enable=i,g.disable=t,g.getName=c,g.getPromise=f,g.send=r,o(),g}angular.module("PostOffice",[]).provider("postOfficeConfig",n).factory("postOffice",e)}();