!function(){"use strict";function e(e){function n(e){if(console.log("--- PostOffice:init ---"),!e)throw new Error("No config object was provided to initialize the PostOffice.");e.name&&(l=e.name),e.currentWindow&&(a=e.currentWindow),e.recipientWindow&&(d=e.recipientWindow),e.recipientDomain&&(u=e.recipientDomain),console.log("_name: "+l),console.log("_currentWindow: ",a),console.log("_recipientWindow: ",d),console.log("_recipientDomain: "+u),o()}function o(){if(!a)throw new Error(s("_currentWindow"));if(!d)throw new Error(s("_recipientWindow"));if(!u)throw new Error(s("_recipientDomain"));a.addEventListener("message",f)}function i(){a.removeEventListener("message",f)}function r(e){if(console.log("--- PostOffice:send ---"),console.log("message: ",e),console.log("_recipientDomain: ",u),console.log("_recipientWindow: ",d),!d)throw new Error("Error at PostOffice:send. The recipient window is potentially undefined.");d.postMessage(e,u)}function t(){return l}function c(){return w.promise}function s(e){var n="The "+e+" parameter is not defined";return n.concat(""!==l?" for the PostOffice named "+l+".":"."),n}function f(e){e.origin===u&&w.resolve()}var l="",a=null,d=null,u="",w=e.defer(),g={};return g.init=n,g.disable=i,g.enable=o,g.getName=t,g.getPromise=c,g.send=r,g}angular.module("PostOffice",[]).factory("postOffice",e)}();